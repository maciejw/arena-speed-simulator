(this["webpackJsonpraid-calculators"]=this["webpackJsonpraid-calculators"]||[]).push([[0],{55:function(e,t,a){e.exports=a(68)},60:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=(a(60),a(61),a(3)),u=a(37),o=a(75),i=a(70),m=a(71),s=a(77),f=function(){};f=console.log;function p(e,t){return e*(t/100)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round((e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}function b(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a?1.15:1,r=v(e,t),c=r*n;return c-r}function v(e,t){return.12*e*t}var E={calculateRealSpeedFromArtifacts:function(e){var t=e.baseSpeed,a=e.artifactSpeed,n=e.aura,r=void 0===n?0:n,c=e.loreOfSteelPresent,l=void 0!==c&&c,u=e.numberOfSpeedSets,o=void 0===u?0:u;f("input parameters",{baseSpeed:t,artifactSpeed:a,aura:r,loreOfSteelPresent:l,numberOfSpeedSets:o});var i=p(t,r);f("auraBonus",i);var m=b(t,o,l);f("loreOfSteelBonus",m);var s=v(t,o);f("speedSetBonus",s);var E=d(s);f("speedSetBonusRounded",E);var h=a-E;f("realArtifactSpeed",h);var O=t+i+h+s+m;return f("realSpeedBeforeRounding",O),d(O,2)},calculateRealSpeedFromTotal:function(e){var t=e.baseSpeed,a=e.totalSpeed,n=e.aura,r=void 0===n?0:n,c=e.loreOfSteelPresent,l=void 0!==c&&c,u=e.numberOfSpeedSets,o=void 0===u?0:u;f("input parameters",{baseSpeed:t,totalSpeed:a,aura:r,loreOfSteelPresent:l,numberOfSpeedSets:o});var i=p(t,r);f("auraBonus",i);var m=b(t,o,l);f("loreOfSteelBonus",m);var s=d(m);f("loreOfSteelBonusRounded",s);var E=v(t,o);f("speedSetBonus",E);var h=d(E);f("speedSetBonusRounded",h);var O=a-t-s-h;f("artifactSpeed",O);var g=i+t+E+m+O;return f("realSpeedBeforeRounding",g),d(g,2)}};function h(e){return parseInt(e,10)||0}function O(){var e=Object(n.useState)({aura:0,baseSpeed:0,artifactSpeed:0,totalSpeed:0,numberOfSpeedSets:0,loreOfSteelPresent:!1,mode:"none",result:void 0}),t=Object(u.a)(e,2),a=t[0],c=t[1];function f(e){if("none"!==e.mode)return E[e.mode](e)}function p(e){c(Object(l.a)(Object(l.a)({},e),{},{result:f(e)}))}return r.a.createElement(o.a,null,r.a.createElement("h2",null,"Real Speed Calculator"),r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(m.a,{variant:"calculateRealSpeedFromTotal"===a.mode?"primary":"secondary",onClick:function(){return p(Object(l.a)(Object(l.a)({},a),{},{mode:"calculateRealSpeedFromTotal"}))}},"Calculate from total speed"),r.a.createElement(m.a,{variant:"calculateRealSpeedFromArtifacts"===a.mode?"primary":"secondary",onClick:function(){return p(Object(l.a)(Object(l.a)({},a),{},{mode:"calculateRealSpeedFromArtifacts"}))}},"Calculate from artifact speed"))),r.a.createElement("br",null),void 0!==a.result&&a.result>0&&r.a.createElement(s.a,{variant:"success"},r.a.createElement(s.a.Heading,null,"Real speed of a champion:"),a.result.toFixed(2)),"calculateRealSpeedFromTotal"===a.mode&&r.a.createElement(T,{update:p,state:a}),"calculateRealSpeedFromArtifacts"===a.mode&&r.a.createElement(C,{update:p,state:a}))}function g(e){var t=e.controlId,a=e.label,n=e.value,c=e.onInput;return r.a.createElement(o.a.Group,{controlId:t},r.a.createElement(o.a.Label,null,a),r.a.createElement(o.a.Control,{type:"textbox",value:n,onInput:c}))}function j(e){var t=e.controlId,a=e.label,n=e.checked,c=e.onInput;return r.a.createElement(o.a.Group,{controlId:t},r.a.createElement(o.a.Check,{type:"checkbox",inline:!0,checked:n,onChange:c}),r.a.createElement(o.a.Label,null,a))}function S(e){var t=e.state,a=e.update;return r.a.createElement(g,{controlId:"aura",label:"Aura",value:t.aura,onInput:function(e){return a(Object(l.a)(Object(l.a)({},t),{},{aura:h(e.currentTarget.value)}))}})}function y(e){var t=e.state,a=e.update;return r.a.createElement(g,{controlId:"base-speed",label:"Base speed",value:t.baseSpeed,onInput:function(e){return a(Object(l.a)(Object(l.a)({},t),{},{baseSpeed:h(e.currentTarget.value)}))}})}function M(e){var t=e.state,a=e.update;return r.a.createElement(g,{controlId:"total-speed",label:"Total speed",value:t.totalSpeed,onInput:function(e){return a(Object(l.a)(Object(l.a)({},t),{},{totalSpeed:h(e.currentTarget.value)}))}})}function k(e){var t=e.state,a=e.update;return r.a.createElement(g,{controlId:"artifact-speed",label:"Artifact speed",value:t.artifactSpeed,onInput:function(e){return a(Object(l.a)(Object(l.a)({},t),{},{artifactSpeed:(n=e.currentTarget.value,parseFloat(n)||0)}));var n}})}function w(e){var t=e.state,a=e.update;return r.a.createElement(g,{controlId:"number-of-speed-sets",label:"Number of speed sets",value:t.numberOfSpeedSets,onInput:function(e){return a(Object(l.a)(Object(l.a)({},t),{},{numberOfSpeedSets:(n=e.currentTarget.value,(parseInt(n,10)||0)%4)}));var n}})}function B(e){var t=e.state,a=e.update;return r.a.createElement(j,{controlId:"lore-of-steel-present",label:"Lore of steel present",checked:t.loreOfSteelPresent,onInput:function(){return a(Object(l.a)(Object(l.a)({},t),{},{loreOfSteelPresent:!t.loreOfSteelPresent}))}})}function T(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,e),r.a.createElement(y,e),r.a.createElement(M,e),r.a.createElement(w,e),r.a.createElement(B,e))}function C(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,e),r.a.createElement(y,e),r.a.createElement(k,e),r.a.createElement(w,e),r.a.createElement(B,e))}var I=a(72),F=a(80),R=a(74),A=a(73),x=a(48),G=a(50),P=a(13),N=a(44),L=a(23),D=a(24);function H(e,t){return t.champ===e.champ&&t.team===e.team}function J(e,t){var a=e.team,n=e.champ,r=void 0===n?"none":n;return"none"!==r&&t.champ===r&&t.team===a||"none"===r&&t.team===a}var U=function(){function e(t){Object(L.a)(this,e),this.amount=void 0,this.amount=t}return Object(D.a)(e,[{key:"apply",value:function(e){var t=e.turnMeter,a=Object(N.a)(e,["turnMeter"]);return Object(l.a)({turnMeter:t+this.amount},a)}},{key:"toString",value:function(){return"fills TM ".concat(this.amount,"%")}}]),e}(),W=function(){function e(t){Object(L.a)(this,e),this.amount=void 0,this.amount=t}return Object(D.a)(e,[{key:"apply",value:function(e){var t=e.turnMeter,a=Object(N.a)(e,["turnMeter"]);return Object(l.a)({turnMeter:Math.max(0,t-this.amount)},a)}},{key:"toString",value:function(){return"depletes TM ".concat(this.amount,"%")}}]),e}();function Y(e,t){var a=e.filter((function(e){return e.name!==t.name&&e.value!==t.value}));return[].concat(Object(P.a)(a),[Object(l.a)({},t)])}var q=function(){function e(t){Object(L.a)(this,e),this.buff=void 0,this.buff=Object(l.a)(Object(l.a)({},t),{},{name:"speed buff"})}return Object(D.a)(e,[{key:"apply",value:function(e){return Object(l.a)(Object(l.a)({},e),{},{buffs:Y(e.buffs,this.buff)})}},{key:"toString",value:function(){return"".concat(this.buff.name," ").concat(this.buff.value,"% for ").concat(this.buff.turns," turn(s)")}}]),e}(),z=function(){function e(t){Object(L.a)(this,e),this.debuff=void 0,this.debuff=Object(l.a)(Object(l.a)({},t),{},{name:"speed debuff"})}return Object(D.a)(e,[{key:"apply",value:function(e){return Object(l.a)(Object(l.a)({},e),{},{deBuffs:[].concat(Object(P.a)(e.deBuffs),[this.debuff])})}},{key:"toString",value:function(){return"".concat(this.debuff.name," ").concat(this.debuff.value,"% for ").concat(this.debuff.turns," turn(s)")}}]),e}(),K=function(){function e(t){var a=t.teamModifiers,n=void 0===a?[]:a,r=t.opposingTeamModifiers,c=void 0===r?[]:r;Object(L.a)(this,e),this.teamModifiers=void 0,this.opposingTeamModifiers=void 0,this.teamModifiers=n,this.opposingTeamModifiers=c}return Object(D.a)(e,[{key:"toString",value:function(){var e=[];return this.teamModifiers.length>0&&e.push("Allies: ".concat(this.teamModifiers.map((function(e){return e.toString()})).join(", "))),this.opposingTeamModifiers.length>0&&e.push("Enemies: ".concat(this.opposingTeamModifiers.map((function(e){return e.toString()})).join(", "))),0===e.length?"Default":e.join(". ")}}]),e}(),Q=new K({teamModifiers:[new U(15),new q({value:30,turns:2})]}),V=new K({teamModifiers:[new U(20)]}),X=new K({teamModifiers:[new U(30)]}),Z=new K({teamModifiers:[new U(30),new q({value:30,turns:2})],opposingTeamModifiers:[new W(30)]}),$=new K({opposingTeamModifiers:[new z({value:30,turns:2})]}),_=new K({});function ee(e){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{turnMeter:(t=e,t.turnMeter+.07*t.speed)});var t}))}function te(e){return Object(P.a)(e).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{turnMeter:0,speedBuff:[],speedDebuff:[]})}))}var ae,ne,re={activeGame:!1,battleEvents:[],game:{participants:[]},teams:(ae=5,ne=1,{team1:Array.from(Array(ae),(function(){return{}})),team2:Array.from(Array(ne),(function(){return{}}))})};function ce(e,t,a){return[].concat(Object(P.a)(e.filter((function(e){return!J(t,e)}))),Object(P.a)(e.filter((function(e){return J(t,e)})).map(a)))}var le={champ:0,team:"team1",speed:0,turnMeter:0,buffs:[],deBuffs:[]};function ue(e,t){switch(t.type){case"SpeedChanged":var a=t.payload,n=a.team,r=a.champ,c=a.speed,u=e.game.participants.filter((function(e){return!H(e,{team:n,champ:r})})),o=e.game.participants.find((function(e){return H(e,{team:n,champ:r})}));void 0===o&&(o=Object(l.a)(Object(l.a)({},le),{},{team:n,champ:r}));var i=Object(l.a)(Object(l.a)({},e),{},{game:Object(l.a)(Object(l.a)({},e.game),{},{participants:[].concat(Object(P.a)(u),[o])}),teams:Object(l.a)(Object(l.a)({},e.teams),{},{[n]:Object(P.a)(e.teams[n])})});return i.teams[n][r]=Object(l.a)(Object(l.a)({},e.teams[n][r]),{},{speed:c}),i.game.participants=ce(i.game.participants,{team:n,champ:r},(function(e){return Object(l.a)(Object(l.a)({},e),{},{speed:c})})),i;case"ToggleBattle":return Object(l.a)(Object(l.a)({},e),{},{activeGame:!e.activeGame});case"Tick":if(e.game.participants.length>0){var m=Object(l.a)(Object(l.a)({},e),{},{game:Object(l.a)(Object(l.a)({},e.game),{},{participants:ee(e.game.participants)})}),s=function(e){return e.game.participants.sort((function(e,t){return t.turnMeter-e.turnMeter}))}(m)[0],f=s.champ,p=s.team;return s.turnMeter>=100&&(m.game.turnOwner={champ:f,team:p}),m}return e;case"Reset":return Object(l.a)(Object(l.a)({},e),{},{battleEvents:[],game:Object(l.a)(Object(l.a)({},e.game),{},{participants:te(e.game.participants)})});case"UseSkill":if(e.game.turnOwner){var d=e.game.turnOwner,b=d.team,v=d.champ,E=function(e){return"team1"===e?"team2":"team1"}(b),h=t.payload,O=ce(e.game.participants,{team:b,champ:v},(function(e){var t=Object(l.a)(Object(l.a)({},e),{},{turnMeter:0});return t.buffs=t.buffs.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{turns:--e.turns})})).filter((function(e){return e.turns>0})),t.deBuffs=t.deBuffs.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{turns:--e.turns})})).filter((function(e){return e.turns>0})),t}));return O=ce(O,{team:b},(function(e){return oe(e,h.skill.teamModifiers)})),O=ce(O,{team:E},(function(e){return oe(e,h.skill.opposingTeamModifiers)})),Object(l.a)(Object(l.a)({},e),{},{battleEvents:[].concat(Object(P.a)(e.battleEvents),[{champ:v,team:b,info:h.skill.toString(),order:e.battleEvents.length+1}]),game:Object(l.a)(Object(l.a)({},e.game),{},{participants:O,turnOwner:void 0})})}return e;default:throw new Error("unknown dispatch type")}}function oe(e,t){var a,n=e,r=Object(G.a)(t);try{for(r.s();!(a=r.n()).done;){n=a.value.apply(e)}}catch(c){r.e(c)}finally{r.f()}return n}function ie(e){var t=e.onTick,a=e.enable,r=void 0!==a&&a;return Object(n.useEffect)((function(){var e=window.setInterval((function(){r&&t()}),200);return function(){window.clearTimeout(e)}})),n.createElement(n.Fragment,null)}var me=a(79);function se(e){var t=e.filled,a=void 0===t?0:t,r={width:"".concat(Math.min(a,100),"%")};return n.createElement("div",{className:"ProgressBar"},n.createElement("div",{className:"Progress",style:r},d(a,2),"%"))}function fe(e){return r.a.createElement(r.a.Fragment,null,e.info.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"buff"===e.type?"primary":"danger"},t.name," ",t.value,"% turns ",t.turns)," ")})))}function pe(e){var t=e.champ,a=e.team,n=e.state,c=e.gameState,u=e.currentlyActive,i=e.onSpeedChanged,m={champ:t,team:a};return r.a.createElement(me.a,{bg:"light",border:u?"primary":void 0,style:{marginBottom:"20px"}},r.a.createElement(me.a.Header,null,a," champ",t+1),r.a.createElement(me.a.Body,null,c&&r.a.createElement(me.a.Title,null,r.a.createElement(se,{filled:c.turnMeter})),r.a.createElement(me.a.Text,{as:"div"},r.a.createElement(o.a,null,r.a.createElement(o.a.Group,{as:A.a},r.a.createElement(o.a.Label,{column:!0,sm:"6"},"Speed"),r.a.createElement(x.a,null,r.a.createElement(o.a.Control,{value:n.speed,onChange:function(e){return i(Object(l.a)(Object(l.a)({},m),{},{speed:(t=e.target.value,parseFloat(t)||0)}));var t}}))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{type:"buff",info:c.buffs}),r.a.createElement(fe,{type:"debuff",info:c.deBuffs}))))))}function de(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"team1"===e.team?"warning":"info"},e.team," champ",e.champ+1))}function be(e){var t=e.events,a=void 0===t?[]:t;return r.a.createElement(F.a,null,a.map((function(e){var t=e.info,a=e.champ,n=e.team,c=e.order;return r.a.createElement(F.a.Item,null,r.a.createElement("b",null,c),": Champion ",r.a.createElement(de,{champ:a,team:n})," used"," ",r.a.createElement("span",{style:{fontWeight:"bold"}},t)," skill")})))}function ve(e){var t=e.onSpeedChanged,a=e.activeMember,n=e.team,c=e.teamMembers,l=e.teamMembersGameData,u=c.map((function(e,t){return{team:n,champ:t,state:e}}));return r.a.createElement(R.a,{fluid:!0},r.a.createElement(A.a,null,u.map((function(e){var n,c,u=e.champ,o=e.team,i=e.state;return r.a.createElement(x.a,{sm:6,md:6,lg:3,key:"".concat(o,"-").concat(u)},r.a.createElement(pe,Object.assign({team:o,champ:u,state:i,onSpeedChanged:t},{gameState:(c={team:o,champ:u},l.find((function(e){return H(c,e)}))),currentlyActive:(n={champ:u,team:o},a&&H(a,n)||!1)})))}))))}function Ee(){var e=Object(n.useReducer)(ue,re),t=Object(u.a)(e,2),a=t[0],c=t[1],s=a.game.turnOwner,f=void 0===s&&a.activeGame;function p(e){c({type:"UseSkill",payload:Object(l.a)({skill:e},s)})}var d=[Q,$,Z,V,X];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{enable:f,onTick:function(){return c({type:"Tick"})}}),r.a.createElement("h1",null,"Turn Simulator"),r.a.createElement(R.a,{fluid:!0},r.a.createElement(A.a,null,r.a.createElement(x.a,{sm:12,md:12,lg:9},!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Game settings"),r.a.createElement(R.a,{fluid:!0},r.a.createElement(A.a,null,r.a.createElement(x.a,null,r.a.createElement(o.a.Check,{type:"switch",inline:!0,id:"continuous-ticks",label:"Emit ticks continuously",onChange:function(){return c({type:"ToggleBattle"})},checked:a.activeGame}),r.a.createElement(m.a,{variant:"outline-secondary",onClick:function(){return c({type:"Tick"})}},"Emit single tick")," ",r.a.createElement(m.a,{variant:"outline-secondary",onClick:function(){return c({type:"Reset"})}},"Reset"))))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Possible moves: "),r.a.createElement(R.a,{fluid:!0},r.a.createElement(A.a,null,r.a.createElement(x.a,null,r.a.createElement(i.a,{vertical:!0},d.map((function(e){return r.a.createElement(m.a,{variant:"outline-secondary",onClick:function(){return p(e)}},e.toString())})),r.a.createElement(m.a,{variant:"outline-primary",onClick:function(){return p(_)}},"Make a move using ",_.toString()," skill not affecting speed")))))),r.a.createElement("hr",{style:{marginBottom:"40px"}}),r.a.createElement("h4",null,r.a.createElement(I.a,{variant:"warning"},"Your team")),r.a.createElement(ve,{activeMember:s,team:"team1",teamMembers:a.teams.team1,teamMembersGameData:a.game.participants,onSpeedChanged:function(e){return c({type:"SpeedChanged",payload:e})}}),r.a.createElement("hr",{style:{marginBottom:"40px"}}),r.a.createElement("h4",null,r.a.createElement(I.a,{variant:"info"},"Enemy team")),r.a.createElement(ve,{activeMember:s,team:"team2",teamMembers:a.teams.team2,teamMembersGameData:a.game.participants,onSpeedChanged:function(e){return c({type:"SpeedChanged",payload:e})}}),r.a.createElement("hr",{style:{marginBottom:"40px"}})),r.a.createElement(x.a,{lg:3},a.battleEvents.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Battle Log"),r.a.createElement(R.a,{fluid:!0},r.a.createElement(A.a,null,r.a.createElement(x.a,null,r.a.createElement(be,{events:a.battleEvents})))),r.a.createElement("hr",{style:{marginBottom:"40px"}}))))))}var he=a(22),Oe=a(6),ge=a(76),je=a(78);function Se(){return r.a.createElement(ge.a,{bg:"light",expand:"lg"},r.a.createElement(ge.a.Brand,{href:"/"},"RAID: Shadow Legend calculators"),r.a.createElement(ge.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ge.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(je.a,{className:"mr-auto"},r.a.createElement(he.b,{to:"/",className:"nav-link"},"Home"),r.a.createElement(he.b,{className:"nav-link",to:"/real-speed-calculator"},"Real speed calculator"),r.a.createElement(he.b,{className:"nav-link",to:"/battle-simulator"},"Battle simulator"))))}function ye(){return r.a.createElement(R.a,{fluid:!0},r.a.createElement(he.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,null),r.a.createElement(Oe.c,null,r.a.createElement(Oe.a,{path:"/real-speed-calculator"},r.a.createElement(O,null)),r.a.createElement(Oe.a,{path:"/battle-simulator"},r.a.createElement(Ee,null)),r.a.createElement(Oe.a,{path:"/"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome")))))))}var Me=document.getElementById("root");Object(c.render)(n.createElement(ye,null),Me)}},[[55,1,2]]]);
//# sourceMappingURL=main.4ee610e1.chunk.js.map